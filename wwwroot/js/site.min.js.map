{"version":3,"sources":["node_modules/browser-pack/_prelude.js","Scripts/Utilities/DomUtil.ts","Scripts/Utilities/HtmlLoader.ts","Scripts/Utilities/MakeRequest.ts","Scripts/Utilities/UrlUtil.ts","Scripts/main.ts","node_modules/tingle.js/dist/tingle.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","DomUtil","element","_classCallCheck","this","attr","defaultvalue","arguments","undefined","value","getAttribute","concat","setAttribute","removeAttribute","hasAttribute","_this","appendClass","setTimeout","removeClass","readOnly","classname","classList","remove","add","HtmlLoader","queryString","targetElement","document","querySelector","url","method","xmlHttpRequest","XMLHttpRequest","onreadystatechange","readyState","status","innerHTML","responseText","open","send","MakeRequest","body","Promise","resolve","reject","setRequestHeader","onload","response","statusText","onerror","UrlUtil","queryValue","field","href","window","location","string","RegExp","exec","toLowerCase","currentURL","getURLParameters","match","reduce","v","slice","indexOf","redirect","replace","baseUrl","origin","host","pathArray","pathname","split","DomUtil_1","UrlUtil_1","HtmlLoader_1","tingle","MakeRequest_1","App","setListeners","error","usersRows","querySelectorAll","forEach","index","array","addEventListener","domUtil","urlUtil","userId","getDataAttr","userUrl","load","then","data","modal","footer","stickyFooter","closeMethods","closeLabel","cssClass","beforeClose","setContent","err","console","execute","root","factory","isBusy","Modal","options","opts","key","hasOwnProperty","extend","onClose","onOpen","beforeOpen","init","_recalculateFooterPosition","modalBoxFooter","style","width","modalBox","clientWidth","left","offsetLeft","prototype","createElement","display","item","modalCloseBtn","type","modalCloseBtnIcon","modalCloseBtnLabel","appendChild","modalBoxContent","_events","clickCloseBtn","close","bind","clickOverlay","event","el","cls","parentElement","contains","_findAncestor","target","clientX","resize","checkOverflow","keyboardNav","which","isOpen","insertBefore","firstChild","addFooter","_busy","state","_isBusy","destroy","removeEventListener","parentNode","removeChild","self","removeProperty","_scrollPosition","pageYOffset","top","setStickyFooter","force","scrollTo","content","getContent","setFooterContent","getFooterContent","isSticky","isOverflow","clientHeight","addFooterBtn","label","callback","btn","warn","innerHeight","define","amd"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,2OCAsBK,aAErB,SAAAA,EAAYC,gGAAgBC,CAAAC,KAAAH,GAC3BG,KAAKF,QAAUA,6FAGJG,KAA8C,IAAhCC,EAAgC,EAAAC,UAAAT,aAAAU,aAATA,EAChD,IAAKJ,KAAKF,QAAS,OAAO,KAC1B,IAAMO,EAAQL,KAAKF,QAAQQ,aAAb,QAAAC,OAAkCN,IAEhD,YAAiBG,IAAVC,EAAsBA,EAAQH,sCAG1BD,EAAcI,GACzB,OAAKL,KAAKF,QACHE,KAAKF,QAAQU,aAAb,QAAAD,OAAkCN,GAAQI,GADvB,qCAInBJ,KAA8C,IAAhCC,EAAgC,EAAAC,UAAAT,aAAAU,aAATA,EAC5C,IAAKJ,KAAKF,QAAS,OAAO,KAC1B,IAAMO,EAAQL,KAAKF,QAAQQ,aAAaL,GAExC,YAAiBG,IAAVC,EAAsBA,EAAQH,kCAG9BD,EAAcI,GACrB,IAAKL,KAAKF,QAAS,OAAO,KAC1BE,KAAKF,QAAQU,aAAaP,EAAMI,sCAGtBJ,GACV,IAAKD,KAAKF,QAAS,OAAO,KAC1BE,KAAKF,QAAQW,gBAAgBR,mCAGtBA,GACP,OAAKD,KAAKF,QACHE,KAAKF,QAAQY,aAAaT,GADP,qCAItB,IAAAU,EAAAX,KACJA,KAAKY,YAAY,SACjBC,WAAW,WACVF,EAAKG,YAAY,SAChBH,EAAKb,QAA6BiB,UAAW,GAC5C,yCAGQC,GACXhB,KAAKF,QAAQmB,UAAUC,OAAOF,uCAGnBA,GACXhB,KAAKF,QAAQmB,UAAUE,IAAIH,YArD5BxB,EAAA,QAAAK,kQCAoBuB,aAGjB,SAAAA,EAAYC,gGAAmBtB,CAAAC,KAAAoB,GAC3BpB,KAAKsB,cAAgBC,SAASC,cAAcH,uFAG3CI,KAAmC,IAAAd,EAAAX,KAAtB0B,EAAsB,EAAAvB,UAAAT,aAAAU,QAAL,MAC/B,IAAKJ,KAAKsB,cACN,MAAM,IAAIjC,MAAM,0BAGpB,IAAMsC,EAAiB,IAAIC,eAE3BD,EAAeE,mBAAqB,WACC,GAA7BF,EAAeG,YAA4C,KAAzBH,EAAeI,SACjDpB,EAAKW,cAAcU,UAAYL,EAAeM,eAItDN,EAAeO,KAAKR,EAAQD,GAAK,GACjCE,EAAeQ,gBArBvB3C,EAAA,QAAA4B,kQCAqBgB,aAInB,SAAAA,EAAYX,GAAmC,IAAtBC,EAAsB,EAAAvB,UAAAT,aAAAU,IAAAD,UAAA,GAAAA,UAAA,GAAL,mGAAKJ,CAAAC,KAAAoC,GAC7CpC,KAAK0B,OAASA,EACd1B,KAAKyB,IAAMA,yFAGW,IAAAd,EAAAX,KAAnBqC,EAAmB,EAAAlC,UAAAT,aAAAU,QAAJ,KAClB,OAAO,IAAIkC,QAAQ,SAACC,EAASC,GAC3B,IAAMb,EAAiB,IAAIC,eAC3BD,EAAeO,KAAKvB,EAAKe,OAAQf,EAAKc,KAE1B,MAARY,IACFV,EAAec,iBAAiB,SAAU,OAC1Cd,EAAec,iBAAiB,eAAgB,qBAGlDd,EAAee,OAAS,WACO,KAAzBf,EAAeI,QAAiBJ,EAAeI,OAAS,IAC1DQ,EAAQZ,EAAegB,UAEvBH,EAAO,CACLT,OAAQJ,EAAeI,OACvBa,WAAYjB,EAAeiB,cAKjCjB,EAAekB,QAAU,WACvBL,EAAO,CACLT,OAAQJ,EAAeI,OACvBa,WAAYjB,EAAeiB,cAI/BjB,EAAeQ,KAAKE,cArC1B7C,EAAA,QAAA4C,wFCAA5C,EAAA,QACI,SAAAsD,iGAAA/C,CAAAC,KAAA8C,GAGA9C,KAAA+C,WAAuB,SAACC,EAAevB,GACnC,IAAIwB,EAAexB,GAAYyB,OAAOC,SAASF,KAE3CG,EADc,IAAIC,OAAO,OAASL,EAAQ,YAAa,KAChCM,KAAKL,GAChC,OAAOG,EAASA,EAAO,GAAGG,cAAgB,MAG9CvD,KAAAwD,WAAuB,WAAA,OAAcN,OAAOC,SAASF,MAErDjD,KAAAyD,iBAA6B,SAAChC,GAAD,OACxBA,EAAIiC,MAAM,yBAA2B,IAAIC,OAAO,SAACvE,EAAGwE,GAAJ,OAC3CxE,EAAEwE,EAAEC,MAAM,EAAGD,EAAEE,QAAQ,OAASF,EAAEC,MAAMD,EAAEE,QAAQ,KAAO,GAAK1E,GAAI,KAE5EY,KAAA+D,SAAqB,SAACtC,GAAD,QAAA,EAAAtB,UAAAT,aAAAU,IAAAD,UAAA,KAAAA,UAAA,GAAwC+C,OAAOC,SAASF,KAAOxB,EAAOyB,OAAOC,SAASa,QACvGvC,IAEJzB,KAAAiE,QAAoB,WAAA,OAAcf,OAAOC,SAASe,QAElDlE,KAAAmE,KAAiB,WAAA,OAAcjB,OAAOC,SAASgB,MAE/CnE,KAAAoE,UAAsB,WAAA,OAAgBlB,OAAOC,SAASkB,SAASC,MAAM,mQCxBzE,IAAAC,EAAArF,EAAA,uBACAsF,EAAAtF,EAAA,uBACAuF,EAAAvF,EAAA,0BACAwF,EAAAxF,EAAA,yCACAyF,EAAAzF,EAAA,2BAEqB0F,aACnB,SAAAA,iGAAA7E,CAAAC,KAAA4E,4FAGE,IACE5E,KAAK6E,eACL,MAAOC,4CAIT,IAAIC,EAAYxD,SAASyD,iBAAiB,SAC1C,GAAGnB,MACFpE,KAAKsF,GACLE,QAAQ,SAACnF,EAAkBoF,EAAeC,GACvCrF,EAAQsF,iBACN,QACA,WACE,IAAMC,EAAU,IAAId,EAAA,QAAQzE,GACtBwF,EAAU,IAAId,EAAA,QACde,EAASF,EAAQG,YAAY,UAC7BC,EAAO,GAAAlF,OAAM+E,EAAQrB,UAAd,uBAAA1D,OAA6CgF,GAC1D,IAAId,EAAA,QAAW,cAAciB,KAAKD,GAClC,IAAId,EAAA,QAAYc,GACbtD,OACAwD,KAAK,SAAAC,GACJ,IAAMC,EAAQ,IAAInB,EAAOmB,MAAM,CAC7BC,QAAQ,EACRC,cAAc,EACdC,aAAc,CAAC,UAAW,SAAU,UACpCC,WAAY,QACZC,SAAU,CAAC,iBAAkB,kBAC7BC,YAAa,WAAA,OAAM,KAErBN,EAAMO,WAAWR,GACjBC,EAAM3D,SAZV,MAcS,SAAAmE,GACLC,QAAQxB,MAAM,4BAA6BuB,EAAIzD,gBAGrD,cAxCVpD,EAAA,QAAAoF,EA8CArD,SAASM,mBAAqB,WACD,eAAvBN,SAASO,aACX,IAAI8C,GAAM2B,mLC9Cd,IAAAC,EAAAC,EAAAD,EAQAxG,KARAyG,EAQA,WAMA,IAAAC,GAAA,EAEA,SAAAC,EAAAC,GAcA5G,KAAA6G,KA8XA,WACA,IAAA,IAAA9H,EAAA,EAAAA,EAAAoB,UAAAT,OAAAX,IACA,IAAA,IAAA+H,KAAA3G,UAAApB,GACAoB,UAAApB,GAAAgI,eAAAD,KACA3G,UAAA,GAAA2G,GAAA3G,UAAApB,GAAA+H,IAIA,OAAA3G,UAAA,GAtYA6G,CAAA,GAbA,CACAC,QAAA,KACAC,OAAA,KACAC,WAAA,KACAhB,YAAA,KACAJ,cAAA,EACAD,QAAA,EACAI,SAAA,GACAD,WAAA,QACAD,aAAA,CAAA,UAAA,SAAA,WAIAY,GAGA5G,KAAAoH,OAkQA,SAAAC,IACArH,KAAAsH,iBAGAtH,KAAAsH,eAAAC,MAAAC,MAAAxH,KAAAyH,SAAAC,YAAA,KACA1H,KAAAsH,eAAAC,MAAAI,KAAA3H,KAAAyH,SAAAG,WAAA,MAmIA,OAvYAjB,EAAAkB,UAAAT,KAAA,WACA,IAAApH,KAAA6F,MAcA,OAwPA,WAGA7F,KAAA6F,MAAAtE,SAAAuG,cAAA,OACA9H,KAAA6F,MAAA5E,UAAAE,IAAA,gBAGA,IAAAnB,KAAA6G,KAAAb,aAAAtG,SAAA,IAAAM,KAAA6G,KAAAb,aAAAlC,QAAA,YACA9D,KAAA6F,MAAA5E,UAAAE,IAAA,gCAGAnB,KAAA6F,MAAA0B,MAAAQ,QAAA,OAGA/H,KAAA6G,KAAAX,SAAAjB,QAAA,SAAA+C,GACA,iBAAAA,GACAhI,KAAA6F,MAAA5E,UAAAE,IAAA6G,IAEAhI,OAGA,IAAAA,KAAA6G,KAAAb,aAAAlC,QAAA,YACA9D,KAAAiI,cAAA1G,SAAAuG,cAAA,UACA9H,KAAAiI,cAAAC,KAAA,SACAlI,KAAAiI,cAAAhH,UAAAE,IAAA,uBAEAnB,KAAAmI,kBAAA5G,SAAAuG,cAAA,QACA9H,KAAAmI,kBAAAlH,UAAAE,IAAA,2BACAnB,KAAAmI,kBAAAnG,UAvCA,wUAyCAhC,KAAAoI,mBAAA7G,SAAAuG,cAAA,QACA9H,KAAAoI,mBAAAnH,UAAAE,IAAA,4BACAnB,KAAAoI,mBAAApG,UAAAhC,KAAA6G,KAAAZ,WAEAjG,KAAAiI,cAAAI,YAAArI,KAAAmI,mBACAnI,KAAAiI,cAAAI,YAAArI,KAAAoI,qBAIApI,KAAAyH,SAAAlG,SAAAuG,cAAA,OACA9H,KAAAyH,SAAAxG,UAAAE,IAAA,oBAGAnB,KAAAsI,gBAAA/G,SAAAuG,cAAA,OACA9H,KAAAsI,gBAAArH,UAAAE,IAAA,6BAEAnB,KAAAyH,SAAAY,YAAArI,KAAAsI,kBAEA,IAAAtI,KAAA6G,KAAAb,aAAAlC,QAAA,WACA9D,KAAA6F,MAAAwC,YAAArI,KAAAiI,eAGAjI,KAAA6F,MAAAwC,YAAArI,KAAAyH,WAtTAhI,KAAAO,MAgUA,WAEAA,KAAAuI,QAAA,CACAC,cAAAxI,KAAAyI,MAAAC,KAAA1I,MACA2I,aAqBA,SAAAC,IAEA,IAAA5I,KAAA6G,KAAAb,aAAAlC,QAAA,aAMA,SAAA+E,EAAAC,GACA,MAAAD,EAAAA,EAAAE,iBAAAF,EAAA5H,UAAA+H,SAAAF,KACA,OAAAD,EARAI,CAAAL,EAAAM,OAAA,iBACAN,EAAAO,QAAAnJ,KAAA6F,MAAA6B,aACA1H,KAAAyI,SAzBAC,KAAA1I,MACAoJ,OAAApJ,KAAAqJ,cAAAX,KAAA1I,MACAsJ,YAYA,SAAAV,IAEA,IAAA5I,KAAA6G,KAAAb,aAAAlC,QAAA,WAAA,KAAA8E,EAAAW,OAAAvJ,KAAAwJ,UACAxJ,KAAAyI,SAfAC,KAAA1I,QAGA,IAAAA,KAAA6G,KAAAb,aAAAlC,QAAA,WACA9D,KAAAiI,cAAA7C,iBAAA,QAAApF,KAAAuI,QAAAC,eAGAxI,KAAA6F,MAAAT,iBAAA,YAAApF,KAAAuI,QAAAI,cACAzF,OAAAkC,iBAAA,SAAApF,KAAAuI,QAAAa,QACA7H,SAAA6D,iBAAA,UAAApF,KAAAuI,QAAAe,cA9UA7J,KAAAO,MAGAuB,SAAAc,KAAAoH,aAAAzJ,KAAA6F,MAAAtE,SAAAc,KAAAqH,YAEA1J,KAAA6G,KAAAf,QACA9F,KAAA2J,YAGA3J,MAGA2G,EAAAkB,UAAA+B,MAAA,SAAAC,GACAnD,EAAAmD,GAGAlD,EAAAkB,UAAAiC,QAAA,WACA,OAAApD,GAGAC,EAAAkB,UAAAkC,QAAA,WACA,OAAA/J,KAAA6F,QAKA7F,KAAAwJ,UACAxJ,KAAAyI,OAAA,GA0UA,YACA,IAAAzI,KAAA6G,KAAAb,aAAAlC,QAAA,WACA9D,KAAAiI,cAAA+B,oBAAA,QAAAhK,KAAAuI,QAAAC,eAEAxI,KAAA6F,MAAAmE,oBAAA,YAAAhK,KAAAuI,QAAAI,cACAzF,OAAA8G,oBAAA,SAAAhK,KAAAuI,QAAAa,QACA7H,SAAAyI,oBAAA,UAAAhK,KAAAuI,QAAAe,cA5UA7J,KAAAO,MAGAA,KAAA6F,MAAAoE,WAAAC,YAAAlK,KAAA6F,OAEA7F,KAAA6F,MAAA,OAGAc,EAAAkB,UAAA2B,OAAA,WACA,QAAAxJ,KAAA6F,MAAA5E,UAAA+H,SAAA,0BAGArC,EAAAkB,UAAA3F,KAAA,WACA,IAAAlC,KAAA8J,UAAA,CACA9J,KAAA4J,OAAA,GAEA,IAAAO,EAAAnK,KAkCA,MA/BA,mBAAAmK,EAAAtD,KAAAM,YACAgD,EAAAtD,KAAAM,aAGAnH,KAAA6F,MAAA0B,MAAA6C,eACApK,KAAA6F,MAAA0B,MAAA6C,eAAA,WAEApK,KAAA6F,MAAA0B,MAAA9G,gBAAA,WAIAT,KAAAqK,gBAAAnH,OAAAoH,YACA/I,SAAAc,KAAApB,UAAAE,IAAA,kBACAI,SAAAc,KAAAkF,MAAAgD,KAAAvK,KAAAqK,gBAAA,KAGArK,KAAAwK,gBAAAxK,KAAA6G,KAAAd,cAGA/F,KAAA6F,MAAA5E,UAAAE,IAAA,yBAGA,mBAAAgJ,EAAAtD,KAAAK,QACAiD,EAAAtD,KAAAK,OAAAzH,KAAA0K,GAGAA,EAAAP,OAAA,GAGA5J,KAAAqJ,gBAEArJ,OAGA2G,EAAAkB,UAAAY,MAAA,SAAAgC,GACA,IAAAzK,KAAA8J,UAAA,CAKA,GAJA9J,KAAA4J,OAAA,IACA,EAGA,mBAAA5J,KAAA6G,KAAAV,YAEA,IADAnG,KAAA6G,KAAAV,YAAA1G,KAAAO,MAGA,YADAA,KAAA4J,OAAA,GAKArI,SAAAc,KAAApB,UAAAC,OAAA,kBACAgC,OAAAwH,SAAA,EAAA1K,KAAAqK,iBACA9I,SAAAc,KAAAkF,MAAAgD,IAAA,KAEAvK,KAAA6F,MAAA5E,UAAAC,OAAA,yBAGAlB,KAEA6F,MAAA0B,MAAAQ,QAAA,OAGA,mBALA/H,KAKA6G,KAAAI,SALAjH,KAMA6G,KAAAI,QAAAxH,KAAAO,MANAA,KAUA4J,OAAA,KAIAjD,EAAAkB,UAAAzB,WAAA,SAAAuE,GAcA,MAZA,iBAAAA,EACA3K,KAAAsI,gBAAAtG,UAAA2I,GAEA3K,KAAAsI,gBAAAtG,UAAA,GACAhC,KAAAsI,gBAAAD,YAAAsC,IAGA3K,KAAAwJ,UAEAxJ,KAAAqJ,gBAGArJ,MAGA2G,EAAAkB,UAAA+C,WAAA,WACA,OAAA5K,KAAAsI,iBAGA3B,EAAAkB,UAAA8B,UAAA,WAIA,OAyKA,WACA3J,KAAAsH,eAAA/F,SAAAuG,cAAA,OACA9H,KAAAsH,eAAArG,UAAAE,IAAA,4BACAnB,KAAAyH,SAAAY,YAAArI,KAAAsH,iBA9KA7H,KAAAO,MAEAA,MAGA2G,EAAAkB,UAAAgD,iBAAA,SAAAF,GAIA,OAFA3K,KAAAsH,eAAAtF,UAAA2I,EAEA3K,MAGA2G,EAAAkB,UAAAiD,iBAAA,WACA,OAAA9K,KAAAsH,gBAGAX,EAAAkB,UAAA2C,gBAAA,SAAAO,GAyBA,OAvBA/K,KAAAgL,eACAD,GAAA,GAGAA,EACA/K,KAAAyH,SAAAuB,SAAAhJ,KAAAsH,kBACAtH,KAAAyH,SAAAyC,YAAAlK,KAAAsH,gBACAtH,KAAA6F,MAAAwC,YAAArI,KAAAsH,gBACAtH,KAAAsH,eAAArG,UAAAE,IAAA,oCACAkG,EAAA5H,KAAAO,MACAA,KAAAsI,gBAAAf,MAAA,kBAAAvH,KAAAsH,eAAA2D,aAAA,GAAA,MAEAjL,KAAAsH,iBACAtH,KAAAyH,SAAAuB,SAAAhJ,KAAAsH,kBACAtH,KAAA6F,MAAAqE,YAAAlK,KAAAsH,gBACAtH,KAAAyH,SAAAY,YAAArI,KAAAsH,gBACAtH,KAAAsH,eAAAC,MAAAC,MAAA,OACAxH,KAAAsH,eAAAC,MAAAI,KAAA,GACA3H,KAAAsI,gBAAAf,MAAA,kBAAA,GACAvH,KAAAsH,eAAArG,UAAAC,OAAA,sCAIAlB,MAIA2G,EAAAkB,UAAAqD,aAAA,SAAAC,EAAAjF,EAAAkF,GACA,IAAAC,EAAA9J,SAAAuG,cAAA,UAiBA,OAdAuD,EAAArJ,UAAAmJ,EAGAE,EAAAjG,iBAAA,QAAAgG,GAEA,iBAAAlF,GAAAA,EAAAxG,QAEAwG,EAAA5B,MAAA,KAAAW,QAAA,SAAA+C,GACAqD,EAAApK,UAAAE,IAAA6G,KAIAhI,KAAAsH,eAAAe,YAAAgD,GAEAA,GAGA1E,EAAAkB,UAAAuB,OAAA,WAEA9C,QAAAgF,KAAA,4DAGA3E,EAAAkB,UAAAmD,WAAA,WAIA,OAHA9H,OAAAqI,aACAvL,KAAAyH,SAAAwD,cAKAtE,EAAAkB,UAAAwB,cAAA,WAEArJ,KAAA6F,MAAA5E,UAAA+H,SAAA,2BACAhJ,KAAAgL,aACAhL,KAAA6F,MAAA5E,UAAAE,IAAA,0BAEAnB,KAAA6F,MAAA5E,UAAAC,OAAA,2BAKAlB,KAAAgL,cAAAhL,KAAA6G,KAAAd,aACA/F,KAAAwK,iBAAA,GACAxK,KAAAgL,cAAAhL,KAAA6G,KAAAd,eACAsB,EAAA5H,KAAAO,MACAA,KAAAwK,iBAAA,MAsJA,CACA3E,MAAAc,IA3aA,mBAAA6E,QAAAA,OAAAC,IACAD,OAAA/E,GACA,iBAAAjH,EACAI,EAAAJ,QAAAiH,IAEAD,EAAA9B,OAAA+B","file":"site.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","﻿export default class DomUtil {\r\n\telement: Element;\r\n\tconstructor(element: Element) {\r\n\t\tthis.element = element;\r\n\t}\r\n\r\n\tgetDataAttr(attr: string, defaultvalue: string = undefined): any {\r\n\t\tif (!this.element) return null;\r\n\t\tconst value = this.element.getAttribute(`data-${attr}`);\r\n\r\n\t\treturn value !== undefined ? value : defaultvalue;\r\n\t}\r\n\r\n\tsetDataAttr(attr: string, value: string): any {\r\n\t\tif (!this.element) return null;\r\n\t\treturn this.element.setAttribute(`data-${attr}`, value);\r\n\t}\r\n\r\n\tgetAttr(attr: string, defaultvalue: string = undefined): any {\r\n\t\tif (!this.element) return null;\r\n\t\tconst value = this.element.getAttribute(attr)\r\n\r\n\t\treturn value !== undefined ? value : defaultvalue;\r\n\t}\r\n\r\n\tsetAttr(attr: string, value: string): void {\r\n\t\tif (!this.element) return null;\r\n\t\tthis.element.setAttribute(attr, value);\r\n\t}\r\n\r\n\tremoveAttr(attr: string): void {\r\n\t\tif (!this.element) return null;\r\n\t\tthis.element.removeAttribute(attr);\r\n\t}\r\n\r\n\thasAttr(attr: string): boolean {\r\n\t\tif (!this.element) return null;\r\n\t\treturn this.element.hasAttribute(attr);\r\n\t}\r\n\r\n\tshake(): void {\r\n\t\tthis.appendClass(\"shake\");\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.removeClass(\"shake\");\r\n\t\t\t(this.element as HTMLInputElement).readOnly = false;\r\n\t\t}, 300);\r\n\t}\r\n\r\n\tremoveClass(classname) {\r\n\t\tthis.element.classList.remove(classname);\r\n\t}\r\n\r\n\tappendClass(classname) {\r\n\t\tthis.element.classList.add(classname);\r\n\t}\r\n}\r\n","export default class HtmlLoader {\r\n    targetElement: HTMLElement;\r\n\r\n    constructor(queryString: string) {\r\n        this.targetElement = document.querySelector(queryString);\r\n    }\r\n\r\n    load(url: string, method: string = \"get\") {\r\n        if (!this.targetElement) {\r\n            throw new Error(\"missing target element\");\r\n        }\r\n\r\n        const xmlHttpRequest = new XMLHttpRequest();\r\n\r\n        xmlHttpRequest.onreadystatechange = () => {\r\n            if (xmlHttpRequest.readyState == 4 && xmlHttpRequest.status == 200) {\r\n                this.targetElement.innerHTML = xmlHttpRequest.responseText;\r\n            }\r\n        };\r\n\r\n        xmlHttpRequest.open(method, url, true);\r\n        xmlHttpRequest.send();\r\n    }\r\n}","export default class MakeRequest {\r\n  method: string;\r\n  url: string;\r\n  \r\n  constructor(url: string, method: string = \"get\") {\r\n    this.method = method;\r\n    this.url = url;\r\n  }\r\n\r\n  send(body: string = null) {\r\n    return new Promise((resolve, reject) => {\r\n      const xmlHttpRequest = new XMLHttpRequest();\r\n      xmlHttpRequest.open(this.method, this.url);\r\n\r\n      if (body != null) {\r\n        xmlHttpRequest.setRequestHeader(\"Accept\", \"*/*\");\r\n        xmlHttpRequest.setRequestHeader(\"Content-Type\", \"application/json\");\r\n      }\r\n\r\n      xmlHttpRequest.onload = () => {\r\n        if (xmlHttpRequest.status >= 200 && xmlHttpRequest.status < 300) {\r\n          resolve(xmlHttpRequest.response);\r\n        } else {\r\n          reject({\r\n            status: xmlHttpRequest.status,\r\n            statusText: xmlHttpRequest.statusText\r\n          });\r\n        }\r\n      };\r\n\r\n      xmlHttpRequest.onerror = () => {\r\n        reject({\r\n          status: xmlHttpRequest.status,\r\n          statusText: xmlHttpRequest.statusText\r\n        });\r\n      };\r\n\r\n      xmlHttpRequest.send(body);\r\n    });\r\n  }\r\n}\r\n","export default class UrlUtil {\r\n    constructor() {\r\n    }\r\n\r\n    queryValue: Function = (field: string, url?: string): string => {\r\n        var href: string = url ? url : window.location.href;\r\n        var reg: RegExp = new RegExp('[?&]' + field + '=([^&#]*)', 'i');\r\n        var string: string[] = reg.exec(href);\r\n        return string ? string[1].toLowerCase() : null;\r\n    };\r\n\r\n    currentURL: Function = (): string => window.location.href;\r\n\r\n    getURLParameters: Function = (url: string): any =>\r\n        (url.match(/([^?=&]+)(=([^&]*))/g) || []).reduce((a, v) =>\r\n            ((a[v.slice(0, v.indexOf(\"=\"))] = v.slice(v.indexOf(\"=\") + 1)), a), {});\r\n\r\n    redirect: Function = (url, asLink = true): void => asLink ? (window.location.href = url) : window.location.replace(\r\n        url);\r\n\r\n    baseUrl: Function = (): string => window.location.origin;\r\n\r\n    host: Function = (): string => window.location.host;\r\n\r\n    pathArray: Function = (): string[] => window.location.pathname.split('/');\r\n}\r\n","import DomUtil from \"./Utilities/DomUtil\";\r\nimport UrlUtil from \"./Utilities/UrlUtil\";\r\nimport HtmlLoader from \"./Utilities/HtmlLoader\";\r\nimport * as tingle from \"../node_modules/tingle.js/dist/tingle\";\r\nimport MakeRequest from \"./Utilities/MakeRequest\";\r\n\r\nexport default class App {\r\n  constructor() {}\r\n\r\n  execute() {\r\n    try {\r\n      this.setListeners();\r\n    } catch (error) {}\r\n  }\r\n\r\n  setListeners() {\r\n    var usersRows = document.querySelectorAll(\".user\");\r\n    [].slice\r\n    .call(usersRows)\r\n    .forEach((element: Element, index: number, array: HTMLElement[]) => {\r\n        element.addEventListener(\r\n          \"click\",\r\n          () => {\r\n            const domUtil = new DomUtil(element);\r\n            const urlUtil = new UrlUtil();\r\n            const userId = domUtil.getDataAttr(\"userid\");\r\n            const userUrl = `${urlUtil.baseUrl()}/api/modal/user?id=${userId}`;\r\n            new HtmlLoader(\"#userModal\").load(userUrl);\r\n            new MakeRequest(userUrl)\r\n              .send()\r\n              .then(data => {\r\n                const modal = new tingle.modal({\r\n                  footer: true,\r\n                  stickyFooter: false,\r\n                  closeMethods: [\"overlay\", \"button\", \"escape\"],\r\n                  closeLabel: \"Close\",\r\n                  cssClass: [\"custom-class-1\", \"custom-class-2\"],\r\n                  beforeClose: () => true\r\n                });\r\n                modal.setContent(data);\r\n                modal.open();\r\n              })\r\n              .catch(err => {\r\n                console.error(\"Augh, there was an error!\", err.statusText);\r\n              });\r\n          },\r\n          false\r\n        );\r\n      });\r\n  }\r\n}\r\n\r\ndocument.onreadystatechange = () => {\r\n  if (document.readyState == \"interactive\") {\r\n    new App().execute();\r\n  }\r\n};","/* !\n* tingle.js\n* @author  robin_parisi\n* @version 0.15.1\n* @url\n*/\n\n/* global define,module*/\n(function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(factory)\n    } else if (typeof exports === 'object') {\n        module.exports = factory()\n    } else {\n        root.tingle = factory()\n    }\n}(this, function() {\n\n    /* ----------------------------------------------------------- */\n    /* == modal */\n    /* ----------------------------------------------------------- */\n\n    var isBusy = false\n\n    function Modal(options) {\n        var defaults = {\n            onClose: null,\n            onOpen: null,\n            beforeOpen: null,\n            beforeClose: null,\n            stickyFooter: false,\n            footer: false,\n            cssClass: [],\n            closeLabel: 'Close',\n            closeMethods: ['overlay', 'button', 'escape']\n        }\n\n        // extends config\n        this.opts = extend({}, defaults, options)\n        \n        // init modal\n        this.init()\n    }\n\n    Modal.prototype.init = function() {\n        if (this.modal) {\n            return\n        }\n\n        _build.call(this)\n        _bindEvents.call(this)\n        \n        // insert modal in dom\n        document.body.insertBefore(this.modal, document.body.firstChild)\n\n        if (this.opts.footer) {\n            this.addFooter()\n        }\n\n        return this\n    }\n\n    Modal.prototype._busy = function(state) {\n        isBusy = state\n    }\n\n    Modal.prototype._isBusy = function() {\n        return isBusy\n    }\n\n    Modal.prototype.destroy = function() {\n        if (this.modal === null) {\n            return\n        }\n\n        // restore scrolling\n        if (this.isOpen()) {\n            this.close(true)\n        }\n\n        // unbind all events\n        _unbindEvents.call(this)\n\n        // remove modal from dom\n        this.modal.parentNode.removeChild(this.modal)\n\n        this.modal = null\n    }\n\n    Modal.prototype.isOpen = function() {\n        return !!this.modal.classList.contains('tingle-modal--visible')\n    }\n\n    Modal.prototype.open = function() {\n        if(this._isBusy()) return\n        this._busy(true)\n\n        var self = this\n\n        // before open callback\n        if (typeof self.opts.beforeOpen === 'function') {\n            self.opts.beforeOpen()\n        }\n\n        if (this.modal.style.removeProperty) {\n            this.modal.style.removeProperty('display')\n        } else {\n            this.modal.style.removeAttribute('display')\n        }\n\n        // prevent double scroll\n        this._scrollPosition = window.pageYOffset\n        document.body.classList.add('tingle-enabled')\n        document.body.style.top = -this._scrollPosition + 'px'\n\n        // sticky footer\n        this.setStickyFooter(this.opts.stickyFooter)\n\n        // show modal\n        this.modal.classList.add('tingle-modal--visible')\n\n        // onOpen callback\n        if (typeof self.opts.onOpen === 'function') {\n            self.opts.onOpen.call(self)\n        }\n\n        self._busy(false)\n        \n        // check if modal is bigger than screen height\n        this.checkOverflow()\n\n        return this\n    }\n\n    Modal.prototype.close = function(force) {\n        if(this._isBusy()) return\n        this._busy(true)\n        force = force || false\n\n        //  before close\n        if (typeof this.opts.beforeClose === 'function') {\n            var close = this.opts.beforeClose.call(this)\n            if (!close) {\n                this._busy(false)\n                return\n            }\n        }\n\n        document.body.classList.remove('tingle-enabled')\n        window.scrollTo(0, this._scrollPosition)\n        document.body.style.top = null\n\n        this.modal.classList.remove('tingle-modal--visible')\n\n        // using similar setup as onOpen\n        var self = this\n\n        self.modal.style.display = 'none'\n\n        // onClose callback\n        if (typeof self.opts.onClose === 'function') {\n            self.opts.onClose.call(this)\n        }\n\n        // release modal\n        self._busy(false)\n        \n    }\n\n    Modal.prototype.setContent = function(content) {\n        // check type of content : String or Node\n        if (typeof content === 'string') {\n            this.modalBoxContent.innerHTML = content\n        } else {\n            this.modalBoxContent.innerHTML = ''\n            this.modalBoxContent.appendChild(content)\n        }\n\n        if (this.isOpen()) {\n            // check if modal is bigger than screen height\n            this.checkOverflow()\n        }\n        \n        return this\n    }\n\n    Modal.prototype.getContent = function() {\n        return this.modalBoxContent\n    }\n\n    Modal.prototype.addFooter = function() {\n        // add footer to modal\n        _buildFooter.call(this)\n\n        return this\n    }\n\n    Modal.prototype.setFooterContent = function(content) {\n        // set footer content\n        this.modalBoxFooter.innerHTML = content\n\n        return this\n    }\n\n    Modal.prototype.getFooterContent = function() {\n        return this.modalBoxFooter\n    }\n\n    Modal.prototype.setStickyFooter = function(isSticky) {\n        // if the modal is smaller than the viewport height, we don't need sticky\n        if (!this.isOverflow()) {\n            isSticky = false\n        }\n\n        if (isSticky) {\n            if (this.modalBox.contains(this.modalBoxFooter)) {\n                this.modalBox.removeChild(this.modalBoxFooter)\n                this.modal.appendChild(this.modalBoxFooter)\n                this.modalBoxFooter.classList.add('tingle-modal-box__footer--sticky')\n                _recalculateFooterPosition.call(this)\n                this.modalBoxContent.style['padding-bottom'] = this.modalBoxFooter.clientHeight + 20 + 'px'\n            }\n        } else if (this.modalBoxFooter) {\n            if (!this.modalBox.contains(this.modalBoxFooter)) {\n                this.modal.removeChild(this.modalBoxFooter)\n                this.modalBox.appendChild(this.modalBoxFooter)\n                this.modalBoxFooter.style.width = 'auto'\n                this.modalBoxFooter.style.left = ''\n                this.modalBoxContent.style['padding-bottom'] = ''\n                this.modalBoxFooter.classList.remove('tingle-modal-box__footer--sticky')\n            }\n        }\n\n        return this\n    }\n\n\n    Modal.prototype.addFooterBtn = function(label, cssClass, callback) {\n        var btn = document.createElement('button')\n                \n        // set label\n        btn.innerHTML = label\n\n        // bind callback\n        btn.addEventListener('click', callback)\n\n        if (typeof cssClass === 'string' && cssClass.length) {\n            // add classes to btn\n            cssClass.split(' ').forEach(function(item) {\n                btn.classList.add(item)\n            })\n        }\n\n        this.modalBoxFooter.appendChild(btn)\n\n        return btn\n    }\n\n    Modal.prototype.resize = function() {\n        // eslint-disable-next-line no-console\n        console.warn('Resize is deprecated and will be removed in version 1.0')\n    }\n\n    Modal.prototype.isOverflow = function() {\n        var viewportHeight = window.innerHeight\n        var modalHeight = this.modalBox.clientHeight\n\n        return modalHeight >= viewportHeight\n    }\n\n    Modal.prototype.checkOverflow = function() {\n        // only if the modal is currently shown\n        if (this.modal.classList.contains('tingle-modal--visible')) {\n            if (this.isOverflow()) {\n                this.modal.classList.add('tingle-modal--overflow')\n            } else {\n                this.modal.classList.remove('tingle-modal--overflow')\n            }\n\n            // tODO: remove offset\n            // _offset.call(this);\n            if (!this.isOverflow() && this.opts.stickyFooter) {\n                this.setStickyFooter(false)\n            } else if (this.isOverflow() && this.opts.stickyFooter) {\n                _recalculateFooterPosition.call(this)\n                this.setStickyFooter(true)\n            }\n        }\n    }\n\n\n    /* ----------------------------------------------------------- */\n    /* == private methods */\n    /* ----------------------------------------------------------- */\n\n    function closeIcon() {\n        return '<svg viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M.3 9.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3L5 6.4l3.3 3.3c.2.2.5.3.7.3.2 0 .5-.1.7-.3.4-.4.4-1 0-1.4L6.4 5l3.3-3.3c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L5 3.6 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4L3.6 5 .3 8.3c-.4.4-.4 1 0 1.4z\" fill=\"#000\" fill-rule=\"nonzero\"/></svg>'\n    }\n\n    function _recalculateFooterPosition() {\n        if (!this.modalBoxFooter) { \n            return\n        }\n        this.modalBoxFooter.style.width = this.modalBox.clientWidth + 'px'\n        this.modalBoxFooter.style.left = this.modalBox.offsetLeft + 'px'\n    }\n\n    function _build() {\n\n        // wrapper\n        this.modal = document.createElement('div')\n        this.modal.classList.add('tingle-modal')\n\n        // remove cusor if no overlay close method\n        if (this.opts.closeMethods.length === 0 || this.opts.closeMethods.indexOf('overlay') === -1) {\n            this.modal.classList.add('tingle-modal--noOverlayClose')\n        }\n\n        this.modal.style.display = 'none'\n\n        // custom class\n        this.opts.cssClass.forEach(function(item) {\n            if (typeof item === 'string') {\n                this.modal.classList.add(item)\n            }\n        }, this)\n\n        // close btn\n        if (this.opts.closeMethods.indexOf('button') !== -1) {\n            this.modalCloseBtn = document.createElement('button')\n            this.modalCloseBtn.type = 'button'\n            this.modalCloseBtn.classList.add('tingle-modal__close')\n\n            this.modalCloseBtnIcon = document.createElement('span')\n            this.modalCloseBtnIcon.classList.add('tingle-modal__closeIcon')\n            this.modalCloseBtnIcon.innerHTML = closeIcon()\n\n            this.modalCloseBtnLabel = document.createElement('span')\n            this.modalCloseBtnLabel.classList.add('tingle-modal__closeLabel')\n            this.modalCloseBtnLabel.innerHTML = this.opts.closeLabel\n\n            this.modalCloseBtn.appendChild(this.modalCloseBtnIcon)\n            this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)\n        }\n\n        // modal\n        this.modalBox = document.createElement('div')\n        this.modalBox.classList.add('tingle-modal-box')\n\n        // modal box content\n        this.modalBoxContent = document.createElement('div')\n        this.modalBoxContent.classList.add('tingle-modal-box__content')\n\n        this.modalBox.appendChild(this.modalBoxContent)\n\n        if (this.opts.closeMethods.indexOf('button') !== -1) {\n            this.modal.appendChild(this.modalCloseBtn)\n        }\n\n        this.modal.appendChild(this.modalBox)\n\n    }\n\n    function _buildFooter() {\n        this.modalBoxFooter = document.createElement('div')\n        this.modalBoxFooter.classList.add('tingle-modal-box__footer')\n        this.modalBox.appendChild(this.modalBoxFooter)\n    }\n\n    function _bindEvents() {\n\n        this._events = {\n            clickCloseBtn: this.close.bind(this),\n            clickOverlay: _handleClickOutside.bind(this),\n            resize: this.checkOverflow.bind(this),\n            keyboardNav: _handleKeyboardNav.bind(this)\n        }\n\n        if (this.opts.closeMethods.indexOf('button') !== -1) {\n            this.modalCloseBtn.addEventListener('click', this._events.clickCloseBtn)\n        }\n\n        this.modal.addEventListener('mousedown', this._events.clickOverlay)\n        window.addEventListener('resize', this._events.resize)\n        document.addEventListener('keydown', this._events.keyboardNav)\n    }\n\n    function _handleKeyboardNav(event) {\n        // escape key\n        if (this.opts.closeMethods.indexOf('escape') !== -1 && event.which === 27 && this.isOpen()) {\n            this.close()\n        }\n    }\n\n    function _handleClickOutside(event) {\n        // if click is outside the modal\n        if (this.opts.closeMethods.indexOf('overlay') !== -1 && !_findAncestor(event.target, 'tingle-modal') &&\n        event.clientX < this.modal.clientWidth) {\n            this.close()\n        }\n    }\n\n    function _findAncestor(el, cls) {\n        while ((el = el.parentElement) && !el.classList.contains(cls));\n        return el\n    }\n\n    function _unbindEvents() {\n        if (this.opts.closeMethods.indexOf('button') !== -1) {\n            this.modalCloseBtn.removeEventListener('click', this._events.clickCloseBtn)\n        }\n        this.modal.removeEventListener('mousedown', this._events.clickOverlay)\n        window.removeEventListener('resize', this._events.resize)\n        document.removeEventListener('keydown', this._events.keyboardNav)\n    }\n\n    /* ----------------------------------------------------------- */\n    /* == helpers */\n    /* ----------------------------------------------------------- */\n\n    function extend() {\n        for (var i = 1; i < arguments.length; i++) {\n            for (var key in arguments[i]) {\n                if (arguments[i].hasOwnProperty(key)) {\n                    arguments[0][key] = arguments[i][key]\n                }\n            }\n        }\n        return arguments[0]\n    }\n\n    /* ----------------------------------------------------------- */\n    /* == return */\n    /* ----------------------------------------------------------- */\n\n    return {\n        modal: Modal\n    }\n\n}))\n"]}